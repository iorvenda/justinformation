
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
    <title>Apartment Ratings and Comments</title>
    <style>
    	body{
    		position: fixed;
    		margin: 0;
    		padding: 0;
    	}

		.main_content{
			margin: 0;
    		padding: 0;
		}
	</style>
    <script type="text/javascript">


    </script>
</head>
<body>

<div class="main_content">

    <h1>Apartment Form</h1>
    <form th:action="@{/apartments/save}" th:object="${apartment}" method="post">
        <div>
            <label for="name">Name:</label>
            <input type="text" id="name" th:field="*{name}" />
        </div>
        <div>
            <label for="address">Address:</label>
            <input type="text" id="address" th:field="*{address}" />
        </div>
        <div>
            <label for="rating">Rating:</label>
            <input type="text" id="rating" th:field="*{rating}" />
        </div>
        <div>
            <label>State:</label>
            <select name="states" th:field="*{state}" id="states" class="form-control">
                <option value="AL">Alabama</option>
                <option value="AK">Alaska</option>
                <option value="AZ">Arizona</option>
                <option value="AR">Arkansas</option>
                <option value="CA">California</option>
                <option value="CO">Colorado</option>
                <option value="CT">Connecticut</option>
                <option value="DE">Delaware</option>
                <option value="FL">Florida</option>
                <option value="GA">Georgia</option>
                <option value="HI">Hawaii</option>
                <option value="ID">Idaho</option>
                <option value="IL">Illinois</option>
                <option value="IN">Indiana</option>
                <option value="IA">Iowa</option>
                <option value="KS">Kansas</option>
                <option value="KY">Kentucky</option>
                <option value="LA">Louisiana</option>
                <option value="ME">Maine</option>
                <option value="MD">Maryland</option>
                <option value="MA">Massachusetts</option>
                <option value="MI">Michigan</option>
                <option value="MN">Minnesota</option>
                <option value="MS">Mississippi</option>
                <option value="MO">Missouri</option>
                <option value="MT">Montana</option>
                <option value="NE">Nebraska</option>
                <option value="NV">Nevada</option>
                <option value="NH">New Hampshire</option>
                <option value="NJ">New Jersey</option>
                <option value="NM">New Mexico</option>
                <option value="NY">New York</option>
                <option value="NC">North Carolina</option>
                <option value="ND">North Dakota</option>
                <option value="OH">Ohio</option>
                <option value="OK">Oklahoma</option>
                <option value="OR">Oregon</option>
                <option value="PA">Pennsylvania</option>
                <option value="RI">Rhode Island</option>
                <option value="SC">South Carolina</option>
                <option value="SD">South Dakota</option>
                <option value="TN">Tennessee</option>
                <option value="TX">Texas</option>
                <option value="UT">Utah</option>
                <option value="VT">Vermont</option>
                <option value="VA">Virginia</option>
                <option value="WA">Washington</option>
                <option value="WV">West Virginia</option>
                <option value="WI">Wisconsin</option>
                <option value="WY">Wyoming</option>
            </select>
        </div>
        <div>
            <label for="city">City:</label>
            <input type="text" id="city" th:field="*{city}" />
        </div>
        <div>
            <h3>Comments</h3>
            <div th:each="comment, iterStat : ${apartment.comments}">
                <div>
                    <input type="hidden" th:field="*{comments[__${iterStat.index}__].id}" />
                    <input type="text" th:field="*{comments[__${iterStat.index}__].content}" placeholder="Comment" />
                </div>
            </div>
            <button type="button" onclick="addComment()">Add Comment</button>
        </div>
        <div>
            <button type="submit">Save Apartment</button>
        </div>
    </form>

    <script>
        function addComment() {
            const commentsDiv = document.querySelector('form div:nth-child(7)');
            const newDiv = document.createElement('div');
            const input = document.createElement('input');
            input.setAttribute('type', 'text');
            input.setAttribute('name', 'comments');
            input.setAttribute('placeholder', 'Comment');
            newDiv.appendChild(input);
            commentsDiv.insertBefore(newDiv, commentsDiv.lastElementChild);
        }
    </script>
</div>
    </body>

</html>